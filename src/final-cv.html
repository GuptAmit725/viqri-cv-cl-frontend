<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <title>Your Final CV - Viqri CV</title>
    
    <!-- Route Protection -->
    <script>
        (function() {
            const cvData = localStorage.getItem('cvData');
            if (!cvData || cvData === '{}' || cvData === 'null') {
                alert('Please upload your CV first to access this page.');
                window.location.replace('index.html');
            }
        })();
    </script>
    
    <link rel="stylesheet" href="template-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2892129066054550"
     crossorigin="anonymous"></script>
    <style>
        /* Optimized 2-page layout */
        body {
            margin: 0;
            padding: 0;
            font-family: 'DM Sans', sans-serif;
            font-size: 10pt;
            line-height: 1.4;
        }
        
        .cv-container {
            max-width: 8.5in;
            margin: 0 auto;
            background: white;
            padding: 0.4in 0.5in;
        }
        
        .print-actions {
            position: fixed;
            top: 2rem;
            right: 2rem;
            display: flex;
            gap: 1rem;
            z-index: 100;
        }
        
        @media print {
            .print-actions, .qr-banner {
                display: none !important;
            }
            .cv-container {
                padding: 0.3in 0.5in;
                margin: 0;
                max-width: 100%;
            }
            body {
                font-size: 9.5pt;
            }
            .page-break {
                page-break-before: always;
            }
        }
        
        .cv-header {
            text-align: center;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid #e94560;
            margin-bottom: 0.8rem;
        }
        
        .cv-name {
            font-family: 'Playfair Display', serif;
            font-size: 24pt;
            color: #1a202c;
            margin-bottom: 0.2rem;
            font-weight: 700;
            line-height: 1.2;
        }
        
        .cv-title {
            font-size: 11pt;
            color: #e94560;
            margin-bottom: 0.4rem;
            font-weight: 600;
        }
        
        .cv-contact {
            display: flex;
            justify-content: center;
            gap: 0.8rem;
            flex-wrap: wrap;
            font-size: 9pt;
            color: #718096;
        }
        
        .cv-contact-item {
            display: flex;
            align-items: center;
            gap: 0.2rem;
        }
        
        .cv-section {
            margin-bottom: 0.8rem;
        }
        
        .cv-section-title {
            font-family: 'Playfair Display', serif;
            font-size: 13pt;
            color: #1a202c;
            margin-bottom: 0.4rem;
            padding-bottom: 0.2rem;
            border-bottom: 1.5px solid #e94560;
            font-weight: 700;
        }
        
        .cv-summary {
            line-height: 1.5;
            color: #2d3748;
            margin-bottom: 0.6rem;
            text-align: justify;
        }
        
        .two-column-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1rem;
        }
        
        .main-column {
            padding-right: 1rem;
        }
        
        .side-column {
            border-left: 1px solid #e2e8f0;
            padding-left: 1rem;
        }
        
        .cv-experience-item,
        .cv-education-item,
        .cv-project-item {
            margin-bottom: 0.6rem;
            page-break-inside: avoid;
        }
        
        .cv-item-title {
            font-weight: 700;
            color: #1a202c;
            font-size: 10.5pt;
            margin-bottom: 0.1rem;
        }
        
        .cv-item-subtitle {
            color: #e94560;
            font-weight: 600;
            margin-bottom: 0.2rem;
            font-size: 9.5pt;
        }
        
        .cv-item-meta {
            font-size: 8.5pt;
            color: #718096;
            margin-bottom: 0.3rem;
        }
        
        .cv-responsibilities {
            margin-left: 1rem;
            margin-top: 0.2rem;
            padding-left: 0.3rem;
        }
        
        .cv-responsibilities li {
            margin-bottom: 0.15rem;
            line-height: 1.4;
            color: #2d3748;
            font-size: 9.5pt;
        }
        
        .cv-skill-category {
            margin-bottom: 0.5rem;
        }
        
        .cv-skill-category-title {
            font-weight: 700;
            color: #1a202c;
            font-size: 8.5pt;
            margin-bottom: 0.3rem;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
        
        .cv-skill-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.25rem;
            line-height: 1.3;
        }
        
        .cv-skill-tag {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: white;
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
            font-size: 8pt;
            font-weight: 500;
            display: inline-block;
        }
        
        .compact-list {
            margin-bottom: 0.4rem;
        }
        
        .compact-item {
            margin-bottom: 0.4rem;
            font-size: 9.5pt;
        }
        
        .compact-item-title {
            font-weight: 600;
            color: #1a202c;
        }
        
        .compact-item-meta {
            font-size: 8.5pt;
            color: #718096;
        }
    </style>
</head>
<body>
    <div class="print-actions">
        <button class="btn-secondary" onclick="window.location.href='edit-template.html'">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
            </svg>
            Edit Again
        </button>
        <button class="btn-primary" id="downloadPdfBtn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            Download PDF
        </button>
    </div>

    <!-- QR Code Banner -->
    <div class="qr-banner" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px; margin: 40px auto; max-width: 800px; border-radius: 16px; text-align: center; color: white;">
        <h3 style="margin: 0 0 12px 0; font-size: 24px; font-weight: 700;">ðŸ“± Stay Updated on Job Openings</h3>
        <p style="margin: 0 0 24px 0; opacity: 0.9; font-size: 16px;">Scan to download our app and get instant notifications for jobs matching your profile</p>
        
        <div style="background: white; padding: 20px; border-radius: 12px; display: inline-block; margin-bottom: 16px;">
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://play.google.com/store/apps/details?id=com.viqri.cv" 
                 alt="Download App" 
                 style="width: 200px; height: 200px; display: block;">
        </div>
        
        <p style="margin: 0; font-size: 14px; opacity: 0.8;">ðŸ“² Point your camera at the QR code to install</p>
    </div>

    <div class="cv-container" id="cvContainer">
        <!-- CV content will be generated here -->
    </div>
    <footer style="text-align: center; padding: 40px 20px; border-top: 1px solid #e5e7eb; margin-top: 60px;">
    <p style="color: #6b7280; margin-bottom: 16px;">&copy; 2026 Viqri CV. All rights reserved.</p>
    <div style="display: flex; justify-content: center; gap: 24px; flex-wrap: wrap;">
        <a href="about.html" style="color: #a855f7; text-decoration: none;">About</a>
        <a href="contact.html" style="color: #a855f7; text-decoration: none;">Contact</a>
        <a href="faq.html" style="color: #a855f7; text-decoration: none;">FAQ</a>
        <a href="privacy-policy.html" style="color: #a855f7; text-decoration: none;">Privacy</a>
        <a href="terms-of-service.html" style="color: #a855f7; text-decoration: none;">Terms</a>
    </div>
    </footer>
    <!-- PDF Generation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="final-cv-script.js"></script>
</body>
</html>